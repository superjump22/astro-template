"use strict";const applyTheme=(e,t=void 0)=>{const a=["dark","light"].includes(e)?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",d=window.matchMedia("(prefers-reduced-motion: reduce)");t??(t="startViewTransition"in document&&!d.matches),t&&(t="startViewTransition"in document&&!d.matches),t?document.startViewTransition(()=>{a==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}):a==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},initTheme=()=>{const e=localStorage.getItem("theme")??"",t=["dark","light"].includes(e)?e:"system";e===""&&localStorage.setItem("theme",t),applyTheme(t,!1)};initTheme(),(!window.XivStrat||!window.XivStrat.setTheme)&&(window.XivStrat||(window.XivStrat={}),window.XivStrat.setTheme=e=>{["dark","light","system"].includes(e)&&(localStorage.setItem("theme",e),applyTheme(e))},window.addEventListener("storage",e=>{e.key==="theme"&&applyTheme(e.newValue)}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{localStorage.getItem("theme")==="system"&&applyTheme("system")}),document.addEventListener("astro:after-swap",initTheme));
